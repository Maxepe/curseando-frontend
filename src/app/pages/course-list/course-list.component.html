<div class="course-list-container">
  <div class="container">
    <!-- Header Section -->
    <header class="page-header">
      <h1>Curseando</h1>
      <p class="subtitle">Discover and enroll in courses to advance your skills</p>
    </header>

    <!-- Filter Section -->
    <div class="filter-section">
      <label for="difficulty-filter" class="filter-label">Filter by difficulty:</label>
      <select
        id="difficulty-filter"
        class="difficulty-filter"
        [(ngModel)]="selectedDifficulty"
        (change)="onFilterChange(selectedDifficulty)"
      >
        <option *ngFor="let diff of difficulties" [value]="diff.value">
          {{ diff.label }}
        </option>
      </select>
    </div>

    <!-- Loading State -->
    <div *ngIf="loading" class="loading-container">
      <div class="spinner"></div>
      <p>Loading courses...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="error && !loading" class="error-container">
      <div class="error-card">
        <h3>Unable to Load Courses</h3>
        <p>{{ error }}</p>
        <button class="btn btn-primary" (click)="loadCourses()">Try Again</button>
      </div>
    </div>

    <!-- Empty State -->
    <div *ngIf="!loading && !error && filteredCourses.length === 0" class="empty-state">
      <h3>No courses found</h3>
      <p>Try adjusting your filters or check back later for new courses.</p>
    </div>

    <!-- Course Grid -->
    <div *ngIf="!loading && !error && filteredCourses.length > 0" class="courses-grid">
      <div
        *ngFor="let course of filteredCourses"
        class="course-card card"
        (click)="viewCourse(course.id)"
        role="button"
        tabindex="0"
        (keydown.enter)="viewCourse(course.id)"
      >
        <div class="card-header">
          <span class="difficulty-badge" [ngClass]="getDifficultyClass(course.difficulty)">
            {{ course.difficulty }}
          </span>
        </div>

        <div class="card-body">
          <h3 class="course-title">{{ course.title }}</h3>

          <div class="course-meta">
            <div class="meta-item">
              <span class="meta-icon">ğŸ‘¨â€ğŸ«</span>
              <span class="meta-text">{{ course.instructor }}</span>
            </div>

            <div class="meta-item">
              <span class="meta-icon">â±ï¸</span>
              <span class="meta-text">{{ course.duration }}</span>
            </div>
          </div>

          <div class="course-enrollment">
            <div class="enrollment-info">
              <span class="enrolled-count">{{ course.enrolledCount }} enrolled</span>
              <span class="capacity">of {{ course.capacity }}</span>
            </div>

            <div
              class="seats-badge"
              [ngClass]="getSeatsStatus(course.seatsLeft, course.capacity).class"
            >
              {{ getSeatsStatus(course.seatsLeft, course.capacity).message }}
            </div>
          </div>
        </div>

        <div class="card-footer">
          <button class="btn btn-primary" [disabled]="course.seatsLeft === 0">
            {{ course.seatsLeft === 0 ? 'Course Full' : 'View Details' }}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
